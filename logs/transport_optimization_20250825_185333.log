2025-08-25 18:53:33,567 - INFO - === Начало работы транспортного оптимизатора ===
2025-08-25 18:53:33,567 - INFO - Загрузка входных данных...
2025-08-25 18:53:33,645 - WARNING - Неделя 1: Производство 1401.0 > Спрос 17.0 (избыток 1384.0)
2025-08-25 18:53:33,645 - WARNING - Неделя 2: Производство 21114.0 > Спрос 5105.0 (избыток 16009.0)
2025-08-25 18:53:33,645 - WARNING - Неделя 3: Производство 23204.0 > Спрос 22411.0 (избыток 793.0)
2025-08-25 18:53:33,645 - WARNING - Неделя 4: Производство 23819.0 < Спрос 23923.0 (дефицит 104.0)
2025-08-25 18:53:33,645 - WARNING - Неделя 5: Производство 26111.0 > Спрос 22857.0 (избыток 3254.0)
2025-08-25 18:53:33,645 - WARNING - Неделя 6: Производство 23911.0 < Спрос 24145.0 (дефицит 234.0)
2025-08-25 18:53:33,645 - WARNING - Неделя 7: Производство 23097.0 > Спрос 21780.0 (избыток 1317.0)
2025-08-25 18:53:33,647 - WARNING - Неделя 8: Производство 27595.0 > Спрос 25502.0 (избыток 2093.0)
2025-08-25 18:53:33,647 - WARNING - Неделя 9: Производство 25934.0 > Спрос 22417.0 (избыток 3517.0)
2025-08-25 18:53:33,647 - WARNING - Неделя 10: Производство 24141.0 > Спрос 23338.0 (избыток 803.0)
2025-08-25 18:53:33,647 - WARNING - Неделя 11: Производство 25429.0 > Спрос 22051.0 (избыток 3378.0)
2025-08-25 18:53:33,647 - WARNING - Неделя 12: Производство 26447.0 > Спрос 25123.0 (избыток 1324.0)
2025-08-25 18:53:33,647 - WARNING - Неделя 13: Производство 29083.0 < Спрос 30036.0 (дефицит 953.0)
2025-08-25 18:53:33,647 - WARNING - Неделя 14: Производство 22989.0 < Спрос 27246.0 (дефицит 4257.0)
2025-08-25 18:53:33,647 - WARNING - Неделя 15: Производство 25537.0 > Спрос 25300.0 (избыток 237.0)
2025-08-25 18:53:33,647 - WARNING - Неделя 16: Производство 26806.0 > Спрос 26513.0 (избыток 293.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 17: Производство 28744.0 < Спрос 32009.0 (дефицит 3265.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 18: Производство 28769.0 > Спрос 25929.0 (избыток 2840.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 19: Производство 24477.0 < Спрос 29811.0 (дефицит 5334.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 20: Производство 27206.0 < Спрос 28713.0 (дефицит 1507.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 21: Производство 29758.0 < Спрос 30151.0 (дефицит 393.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 22: Производство 30059.0 < Спрос 33141.0 (дефицит 3082.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 23: Производство 27319.0 < Спрос 28597.0 (дефицит 1278.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 24: Производство 27499.0 < Спрос 31037.0 (дефицит 3538.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 25: Производство 27849.0 < Спрос 32334.0 (дефицит 4485.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 26: Производство 31627.0 > Спрос 31542.0 (избыток 85.0)
2025-08-25 18:53:33,648 - WARNING - Неделя 27: Производство 26923.0 < Спрос 33296.0 (дефицит 6373.0)
2025-08-25 18:53:33,649 - WARNING - Неделя 28: Производство 27850.0 < Спрос 34143.0 (дефицит 6293.0)
2025-08-25 18:53:33,649 - WARNING - Неделя 29: Производство 27947.0 < Спрос 31041.0 (дефицит 3094.0)
2025-08-25 18:53:33,649 - WARNING - Неделя 30: Производство 27173.0 < Спрос 30227.0 (дефицит 3054.0)
2025-08-25 18:53:33,649 - WARNING - Неделя 31: Производство 28076.0 < Спрос 28643.0 (дефицит 567.0)
2025-08-25 18:53:33,649 - WARNING - Неделя 32: Производство 28007.0 < Спрос 29686.0 (дефицит 1679.0)
2025-08-25 18:53:33,649 - WARNING - Неделя 33: Производство 29197.0 < Спрос 30709.0 (дефицит 1512.0)
2025-08-25 18:53:33,649 - WARNING - Неделя 34: Производство 29372.0 > Спрос 28605.0 (избыток 767.0)
2025-08-25 18:53:33,649 - WARNING - Неделя 35: Производство 30758.0 > Спрос 28525.0 (избыток 2233.0)
2025-08-25 18:53:33,649 - WARNING - Неделя 36: Производство 26083.0 < Спрос 26094.0 (дефицит 11.0)
2025-08-25 18:53:33,650 - WARNING - Неделя 37: Производство 30956.0 > Спрос 30662.0 (избыток 294.0)
2025-08-25 18:53:33,650 - WARNING - Неделя 38: Производство 30934.0 > Спрос 29580.0 (избыток 1354.0)
2025-08-25 18:53:33,650 - WARNING - Неделя 39: Производство 28206.0 < Спрос 31636.0 (дефицит 3430.0)
2025-08-25 18:53:33,650 - WARNING - Неделя 40: Производство 30030.0 > Спрос 27079.0 (избыток 2951.0)
2025-08-25 18:53:33,650 - WARNING - Неделя 41: Производство 25939.0 < Спрос 27872.0 (дефицит 1933.0)
2025-08-25 18:53:33,650 - WARNING - Неделя 42: Производство 34507.0 > Спрос 30576.0 (избыток 3931.0)
2025-08-25 18:53:33,650 - WARNING - Неделя 43: Производство 27787.0 < Спрос 32770.0 (дефицит 4983.0)
2025-08-25 18:53:33,650 - WARNING - Неделя 44: Производство 30016.0 > Спрос 29647.0 (избыток 369.0)
2025-08-25 18:53:33,651 - WARNING - Неделя 45: Производство 27711.0 > Спрос 27570.0 (избыток 141.0)
2025-08-25 18:53:33,651 - WARNING - Неделя 46: Производство 32830.0 > Спрос 26904.0 (избыток 5926.0)
2025-08-25 18:53:33,651 - WARNING - Неделя 47: Производство 29528.0 > Спрос 24880.0 (избыток 4648.0)
2025-08-25 18:53:33,651 - WARNING - Неделя 48: Производство 31141.0 > Спрос 25555.0 (избыток 5586.0)
2025-08-25 18:53:33,651 - WARNING - Неделя 49: Производство 29477.0 > Спрос 27165.0 (избыток 2312.0)
2025-08-25 18:53:33,651 - WARNING - Неделя 50: Производство 32881.0 > Спрос 25188.0 (избыток 7693.0)
2025-08-25 18:53:33,651 - WARNING - Неделя 51: Производство 29680.0 > Спрос 25931.0 (избыток 3749.0)
2025-08-25 18:53:33,651 - WARNING - Неделя 52: Производство 31872.0 > Спрос 21951.0 (избыток 9921.0)
2025-08-25 18:53:33,651 - WARNING - Неделя 53: Производство 7898.0 > Спрос 578.0 (избыток 7320.0)
2025-08-25 18:53:33,664 - INFO - Добавлен фиктивный склад DUMMY для обработки неразмещённой продукции
2025-08-25 18:53:33,728 - INFO - Создание переменных...
2025-08-25 18:53:33,832 - INFO - Формирование целевой функции...
2025-08-25 18:53:33,948 - INFO - Добавление ограничений...
2025-08-25 18:53:34,063 - INFO - Решение модели...
2025-08-25 18:53:34,628 - INFO - Статус решения: OPTIMAL
2025-08-25 18:53:34,629 - INFO - Время решения: 0.52 сек
2025-08-25 18:53:34,644 - INFO - Сохранен план перевозок (653 записей)
2025-08-25 18:53:34,647 - WARNING - Общий неудовлетворенный спрос: 77854.00
2025-08-25 18:53:34,650 - ERROR - Общий неразмещенный объем: 113017.00
2025-08-25 18:53:34,665 - INFO - Транспортные затраты: 154251958.00
2025-08-25 18:53:34,665 - INFO - Штраф за неудовлетворенный спрос: 189845510.00
2025-08-25 18:53:34,665 - INFO - Штраф за неразмещенную продукцию: 289323520000.00
2025-08-25 18:53:34,665 - INFO - Общие затраты: 289667617468.00
2025-08-25 18:53:34,666 - INFO - 
=== Сводная статистика ===
2025-08-25 18:53:34,666 - INFO - Всего произведено: 1432704.00
2025-08-25 18:53:34,666 - INFO - Всего размещено: 1319687.00
2025-08-25 18:53:34,666 - INFO - Процент удовлетворенного спроса: 94.43%
2025-08-25 18:53:34,666 - INFO - Процент размещенной продукции: 92.11%
2025-08-25 18:53:34,668 - INFO - Склад Склад1||Склад1_о: недели=['W1', 'W2', 'W3', 'W4', 'W5', 'W6', 'W7', 'W8', 'W9', 'W10', 'W11', 'W12', 'W13', 'W14', 'W15', 'W16', 'W17', 'W18', 'W19', 'W20', 'W21', 'W22', 'W23', 'W24', 'W25', 'W26', 'W27', 'W28', 'W29', 'W30', 'W31', 'W32', 'W33', 'W34', 'W35', 'W36', 'W37', 'W38', 'W39', 'W40', 'W41', 'W42', 'W43', 'W44', 'W45', 'W46', 'W47', 'W48', 'W49', 'W50', 'W51', 'W52', 'W53'], len(недели)=53, load_data=[0.0, 0.0, 53.0, 526.0, 338.0, 698.0, 1176.0, 1851.0, 1452.0, 787.0, 766.0, 1558.0, 2644.0, 2192.0, 1654.0, 2018.0, 2137.0, 1250.0, 2299.0, 2485.0, 3593.0, 1652.0, 1818.0, 2404.0, 1598.0, 1624.0, 1492.0, 1608.0, 1222.0, 1089.0, 198.0, 424.0, 605.0, 283.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], len(load_data)=53, demand_data=[0.0, 0.0, 53.0, 526.0, 338.0, 698.0, 1176.0, 1851.0, 1452.0, 787.0, 766.0, 1558.0, 2644.0, 2192.0, 1654.0, 2018.0, 2137.0, 1250.0, 2299.0, 2485.0, 3593.0, 1652.0, 1818.0, 2404.0, 1598.0, 1624.0, 1492.0, 1608.0, 1222.0, 1089.0, 198.0, 424.0, 605.0, 283.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], len(demand_data)=53, capacity_data=[20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0, 20000.0], len(capacity_data)=53
2025-08-25 18:53:35,503 - INFO - Сохранён график для склада Склад1||Склад1_о: plots/warehouse_Склад1_Склад1_о.png
2025-08-25 18:53:35,527 - ERROR - Ошибка сбора данных для графика склада Склад2||Склад2_о
2025-08-25 18:53:35,527 - ERROR - Ошибка сбора данных для графика склада Склад3||Склад3_о
2025-08-25 18:53:35,528 - ERROR - Ошибка сбора данных для графика склада Склад4||Склад4_о
2025-08-25 18:53:35,528 - ERROR - Ошибка сбора данных для графика склада Склад5||Склад5_о
2025-08-25 18:53:35,528 - ERROR - Ошибка сбора данных для графика склада Склад6||Склад6_о
2025-08-25 18:53:35,528 - ERROR - Ошибка сбора данных для графика склада Склад7||Склад7_о
2025-08-25 18:53:35,529 - ERROR - Ошибка сбора данных для графика склада Склад8||Склад8_о
2025-08-25 18:53:35,529 - ERROR - Ошибка сбора данных для графика склада Склад9||Склад9_о
2025-08-25 18:53:35,529 - ERROR - Ошибка сбора данных для графика склада Склад10||Склад10_о
2025-08-25 18:53:35,529 - ERROR - Ошибка сбора данных для графика склада Склад11||Склад11_о
2025-08-25 18:53:35,529 - ERROR - Ошибка сбора данных для графика склада Склад12||Склад12_о
2025-08-25 18:53:35,529 - ERROR - Ошибка сбора данных для графика склада DUMMY
2025-08-25 18:53:35,530 - ERROR - Ошибка: operands could not be broadcast together with shapes (53,) (4,) 
Traceback (most recent call last):
  File "C:\Users\Professional\PycharmProjects\transportation\ORTools2.py", line 455, in main
    save_results(solver, status, solve_time, data, x, u, v, penalty_unplaced)
  File "C:\Users\Professional\PycharmProjects\transportation\ORTools2.py", line 407, in save_results
    shipment_data = {j: [sum(x[(i, j, p, w)].solution_value() if (i, j, p, w) in x else 0 for p in data['products']) for w in data['weeks']] for j in data['warehouses']}
  File "C:\Users\Professional\PycharmProjects\transportation\ORTools2.py", line 407, in <dictcomp>
    shipment_data = {j: [sum(x[(i, j, p, w)].solution_value() if (i, j, p, w) in x else 0 for p in data['products']) for w in data['weeks']] for j in data['warehouses']}
  File "C:\Users\Professional\PycharmProjects\transportation\ORTools2.py", line 407, in <listcomp>
    shipment_data = {j: [sum(x[(i, j, p, w)].solution_value() if (i, j, p, w) in x else 0 for p in data['products']) for w in data['weeks']] for j in data['warehouses']}
  File "C:\Users\Professional\PycharmProjects\transportation\ORTools2.py", line 407, in <genexpr>
    shipment_data = {j: [sum(x[(i, j, p, w)].solution_value() if (i, j, p, w) in x else 0 for p in data['products']) for w in data['weeks']] for j in data['warehouses']}
ValueError: operands could not be broadcast together with shapes (53,) (4,) 
